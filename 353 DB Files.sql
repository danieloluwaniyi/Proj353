create table PROJECT353.SUBMISSIONS
(
	SUBMISSION_ID BIGINT  primary key GENERATED ALWAYS AS IDENTITY 
            (START WITH 1, INCREMENT BY 1),
	USER_ID VARCHAR(15),
	RATING DOUBLE,
	SUBMISSION_DATE DATE default CURRENT DATE,
	SUBMISSION_CONTENT BLOB(2147483647),
	PRICE DOUBLE default 35.0,
	RATERS INTEGER default 0,
        TAGS VARCHAR(200),
        WINNER BOOLEAN DEFAULT FALSE
);

create table PROJECT353.USERS
(
	FIRSTNAME VARCHAR(15),
	LASTNAME VARCHAR(15),
	USER_ID VARCHAR(15) not null primary key,
	EMAIL VARCHAR(30),
	PASSWORD VARCHAR(30),
	PAID BOOLEAN,
	NAMEONCARD VARCHAR(30),
	CREDITCARDNUM VARCHAR(16),
	EXPIRATIONMONTH INTEGER,
	EXPIRATIONYEAR INTEGER,
	SECURITYCODE VARCHAR(3)
);


create table PROJECT353.ORDERS
(
	ORDER_ID IGINT  primary key GENERATED ALWAYS AS IDENTITY 
            (START WITH 1, INCREMENT BY 1),
	USER_ID VARCHAR(15),
	SUBMISSION_ID VARCHAR(5000),
	TOTAL DOUBLE
)


CREATE TABLE PROJECT353.ROYALTY(
    ID BIGINT NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),
    USER_ID VARCHAR(15),
    SUBMISSION_ID BIGINT,
    ROYALTY_AMOUNT DOUBLE,
    ROYALTY_PAID BOOLEAN DEFAULT FALSE,
    CONSTRAINT royalty_id_pk PRIMARY KEY(ID)
);


CREATE TABLE PROJECT353.winner(
    ID BIGINT NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),
    USER_ID VARCHAR(15),
    SUBMISSION_ID BIGINT,
    PAID BOOLEAN DEFAULT FALSE,
    windate DATE DEFAULT CURRENT DATE,
    CONSTRAINT winner_id_pk PRIMARY KEY(ID)
);



CREATE TABLE PROJECT353.PURCHASE(
    USER_ID VARCHAR(12), ROYALTY_AMT DOUBLE DEFAULT 0,
    CONSTRAINT royalty_pk PRIMARY KEY(USER_ID)
);


create table PROJECT353.RATEDIMAGES
(
	SUBMISSION_ID INTEGER,
	USER_ID VARCHAR(20)
)